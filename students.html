<!DOCTYPE html>
<html>
<head>
    <title>Students | Mr. Schwartz's Planner</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script id="hbs-template" type="text/x-handlebars-template">
        <form action="" name="students-form">

            <ul class="list-group w-50">
                {{#each students}}
                <li class="list-group-item d-flex justify-content-between">
                    <div>{{name}}</div>
                    <div>
                        <label>
                            <input type="radio" name="{{inputName id}}" value="present">
                            Present
                        </label>
                        <label>
                            <input type="radio" name="{{inputName id}}" value="absent">
                            Absent
                        </label>
                    </div>
                </li>
                {{/each}}
            </ul>

            <button>Update</button>
        </form>
    </script>
</head>
<body>

<div class="container">
    <h4>Students</h4>

    <br>

    <div id="hbs-root"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.2.0/handlebars.min.js"></script>
<script type="text/javascript">
    const students = [
        { id: 1, name: 'Huey Moscowitz', status: '' },
        { id: 2, name: 'Duey Benveniste', status: '' },
        { id: 3, name: 'Louie Farkas', status: '' },
    ]

    // compile handlebars
    Handlebars.registerHelper('inputName', string => string + '_status')

    const template = Handlebars.compile(document.querySelector('#hbs-template').innerHTML)
    document.querySelector('#hbs-root').innerHTML = template({ students })

    // TODO: NEXT STEP: on submit...
    document.forms['students-form'].onsubmit = event => event.preventDefault()
</script>
</body>
</html>
